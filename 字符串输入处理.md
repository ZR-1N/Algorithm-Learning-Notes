# 字符串输入处理

example:
输入两个整数，输入格式不是1 2而是1，2
如何有效处理？

##  使用stringstream处理分隔符（推荐）

这是最通用的方法，可以处理任何分隔符：

```cpp
#include <iostream>
#include <sstream>
#include <string>
using namespace std;

int main() {
    string line;
    getline(cin, line);
    
    // 将逗号替换为空格
    for(char &c : line) {
        if(c == ',') c = ' ';
    }
    
    stringstream ss(line);
    int a, b;
    ss >> a >> b;
    
    cout << a << " " << b << endl;
    return 0;
}
```

##  直接用scanf处理逗号分隔

对于固定格式如"a,b"，可以直接用scanf：

```cpp
#include <iostream>
using namespace std;

int main() {
    int a, b;
    scanf("%d,%d", &a, &b);  // 直接匹配逗号
    cout << a << " " << b << endl;
    return 0;
}
```

## 通用的字符串解析函数

写一个通用函数处理各种分隔符：

```c++
#include <iostream>
#include <regex>
#include <string>
using namespace std;

int main() {
    string line;
    getline(cin, line);
    
    regex pattern(R"((\d+)[,\s]+(\d+))");  // 匹配数字，分隔符可能是逗号或空格
    smatch matches;
    
    if(regex_search(line, matches, pattern)) {
        int a = stoi(matches[1]);
        int b = stoi(matches[2]);
        cout << a << " " << b << endl;
    }
    return 0;
}
```

## 正则表达式方法（C++11及以上）

对于复杂格式，可以使用正则表达式：

```c++
#include <iostream>
#include <regex>
#include <string>
using namespace std;

int main() {
    string line;
    getline(cin, line);
    
    regex pattern(R"((\d+)[,\s]+(\d+))");  // 匹配数字，分隔符可能是逗号或空格
    smatch matches;
    
    if(regex_search(line, matches, pattern)) {
        int a = stoi(matches[1]);
        int b = stoi(matches[2]);
        cout << a << " " << b << endl;
    }
    return 0;
}
```

# 建议：

1. **比赛时推荐第1种方法**：简单通用，容错性好
2. **如果确定格式，用第2种**：代码最短，效率最高
3. **准备一个模板**：把常用的输入处理函数保存为代码片段
4. **读题时注意**：仔细看输入格式说明，避免格式假设错误